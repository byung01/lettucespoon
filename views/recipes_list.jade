doctype html

mixin recipes-list-builder(recipes)
    if recipes
        each dish in recipes
            +recipe-box(dish, dish.recipe)
        else
            h1 No recipes to show

mixin recipe-box(dish, recipe)
    .col-xs-12.col-sm-6.col-md-4
        .recipe-box
            .recipe-box-heading
                - var link = {href: '/recipe?dish=' + dish.dish}
                h1: a(href=link.href) #{dish.dish}
                img(src='images/pagebreak.png' alt='Page break')
                - var p = dish
            .recipe-box-body-layout
                .recipe-box-body
                    p: b Description:
                    p #{dish.description_short}
                    p: b Ingredients:
                    ul
                        each ingredient in recipe.ingredients
                            li: p #{ingredient}

html(lang="en")
    head
        meta(charset="utf-8")
        meta(name="viewport", content=["width=device-width","initial-scale=1","minimum-scale=1","maximum-scale=1"])
        link(href="stylesheets/recipes_list.css", rel="stylesheet", type="text/css")
        link(href="stylesheets/navbar.css", rel="stylesheet", type="text/css")
        link(href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css", rel="stylesheet", integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7", crossorigin="anonymous")
        link(href='https://fonts.googleapis.com/css?family=Muli', rel="stylesheet", type='text/css')
        link(href='https://fonts.googleapis.com/css?family=Great+Vibes', rel='stylesheet', type='text/css')
        title LettuceSpoon Recipe List
    body.page-bg
        .navbar.navbar-default.navbar-fixed-top(role='navigation')
            .container-fluid
                .navbar-header
                    button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-collapse')
                        span.sr-only Toggle navigation
                        span.icon-bar
                        span.icon-bar
                        span.icon-bar
                    a.navbar-brand(href='/') LettuceSpoon
                .navbar-collapse.collapse
                    ul.nav.navbar-nav.navbar-right
                        li.dropdown
                            a.dropdown-toggle(data-toggle="dropdown" href="#") Recipes <span class="caret"></span>
                            ul.dropdown-menu.recipes
                                li: a(href='/recipes_list?meal_type=breakfast') Breakfast
                                li: a(href='/recipes_list?meal_type=lunch/dinner') Lunch and Dinner
                                li: a(href='/recipes_list?meal_type=starters/sides') Starters and Sides
                                li: a(href='/recipes_list?meal_type=desserts') Desserts and Baked Goods
                        li.dropdown
                            a.dropdown-toggle(data-toggle="dropdown" href="#") Posts <span class="caret"></span>
                            ul.dropdown-menu
                                li: a(href='#') Breakfast
                                li: a(href='#') Restaurants
                                li: a(href='#') Travel
        .view.recipe-list
            +recipes-list-builder(data)

        script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js')
        script(src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js", integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS", crossorigin="anonymous")
        script(src='scripts/recipes-list-animation.js')
