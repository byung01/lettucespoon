doctype html

mixin recipes-list-builder(recipes)
    if recipes
        each dish in recipes
            +recipe-box(dish, dish.recipe)
        else
            h1 No recipes to show

mixin recipe-box(dish, recipe)
    .col-xs-12.col-sm-6.col-md-4
        .recipe-box
            .recipe-box-heading
                - var link = {href: '/recipe?dish=' + dish.dish}
                h1: a(href=link.href) #{dish.dish}
                img(src='images/pagebreak.png' alt='Page break')
            .recipe-box-body-layout
                .recipe-box-body
                    p: b Description:
                    p #{dish.description_short}
                    p: b Ingredients:
                    ul
                        each ingredient in recipe.ingredients
                            li: p #{ingredient}

html(lang="en")
    head
        include _includes/header.jade
        link(href="stylesheets/recipes_list.css", rel="stylesheet", type="text/css")
        title LettuceSpoon Recipe List
    body.page-bg
        .navbar.navbar-default.navbar-fixed-top(role='navigation')
            .container-fluid
                .navbar-header
                    button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-collapse')
                        span.sr-only Toggle navigation
                        span.icon-bar
                        span.icon-bar
                        span.icon-bar
                    a.navbar-brand.animsition-link(href='/') LettuceSpoon
                .navbar-collapse.collapse
                    ul.nav.navbar-nav
                        li.dropdown
                            a(href='/about') About <span class="caret"></span>
                            ul.dropdown-menu
                                li: a.animsition-link(href='/about#writer') The Writer
                                li: a.animsition-link(href='/about#inspiration') The Inspiration
                    ul.nav.navbar-nav.navbar-right
                        li.dropdown
                            a(href='#') Recipes <span class="caret"></span>
                            ul.dropdown-menu.recipes
                                li: a.animsition-link(href='/recipes_list?meal_type=breakfast') Breakfast
                                li: a.animsition-link(href='/recipes_list?meal_type=lunch/dinner') Lunch and Dinner
                                li: a.animsition-link(href='/recipes_list?meal_type=starters/sides') Starters and Sides
                                li: a.animsition-link(href='/recipes_list?meal_type=desserts') Desserts and Baked Goods
                                li: a.animsition-link(href='/recipes_list?meal_type=all') All of the above
                        li.dropdown
                            a(href='#') Posts <span class="caret"></span>
                            ul.dropdown-menu
                                li: a(href='#') Breakfast
                                li: a(href='#') Restaurants
                                li: a(href='#') Travel
        .animsition
            .view.recipe-list
                +recipes-list-builder(data)

        include _includes/footer.jade
        script(src='scripts/recipes-list-animation.js')
